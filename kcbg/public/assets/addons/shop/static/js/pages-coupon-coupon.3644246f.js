(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-coupon-coupon"],{"0b7a":function(t,o,e){var i=e("24fb");o=i(!1),o.push([t.i,"uni-page-body[data-v-7bc8046a]{background:#f4f6f8}body.?%PAGE?%[data-v-7bc8046a]{background:#f4f6f8}",""]),t.exports=o},"1b18":function(t,o,e){"use strict";e.r(o);var i=e("c003"),a=e.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){e.d(o,t,(function(){return i[t]}))}(s);o["default"]=a.a},"45c2":function(t,o,e){"use strict";var i=e("603c"),a=e.n(i);a.a},"5c86":function(t,o,e){var i=e("c544");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=e("4f06").default;a("23096602",i,!0,{sourceMap:!1,shadowMode:!1})},"603c":function(t,o,e){var i=e("0b7a");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=e("4f06").default;a("f999c5f4",i,!0,{sourceMap:!1,shadowMode:!1})},6251:function(t,o,e){"use strict";e.r(o);var i=e("fd3d"),a=e("1b18");for(var s in a)["default"].indexOf(s)<0&&function(t){e.d(o,t,(function(){return a[t]}))}(s);e("45c2"),e("b1d7");var n=e("f0c5"),u=Object(n["a"])(a["default"],i["b"],i["c"],!1,null,"7bc8046a",null,!1,i["a"],void 0);o["default"]=u.exports},b1d7:function(t,o,e){"use strict";var i=e("5c86"),a=e.n(i);a.a},c003:function(t,o,e){"use strict";e("7a82");var i=e("4ea4").default;Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,e("99af");var a=i(e("2909")),s={onLoad:function(){this.getCouponList()},data:function(){return{barwidth:85,list:[{name:"全部",value:""},{name:"满减券",value:1},{name:"折扣券",value:0}],current:0,is_update:!1,status:"loadmore",has_more:!1,scrollTop:0,page:1,couponList:[]}},methods:{change:function(t){this.barwidth=30*this.$util.strlen(this.list[t].name),this.current=t,this.is_update=!0,this.getCouponList()},getCouponList:function(){var t=this;this.$api.couponList({page:this.page,result:this.list[this.current].value}).then((function(o){1==o.code&&(t.is_update&&(t.is_update=!1,t.couponList=[]),t.couponList=[].concat((0,a.default)(t.couponList),(0,a.default)(o.data.data)),t.has_more=o.data.has_more)}))},give:function(t){var o=this;this.$api.drawCoupon({id:t}).then((function(t){o.$u.toast(t.msg),1==t.code&&(o.is_update=!0,o.getCouponList())}))}},onPageScroll:function(t){this.scrollTop=t.scrollTop},onReachBottom:function(){this.has_more&&(this.status="loading",this.page++,this.getCouponList())}};o.default=s},c544:function(t,o,e){var i=e("24fb");o=i(!1),o.push([t.i,'@charset "UTF-8";\n/**\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \n */.coupon-list[data-v-7bc8046a]{padding:%?30?%}.coupon-list .item[data-v-7bc8046a]{background-color:#fff;margin-bottom:%?30?%;border-radius:%?10?%}.coupon-list .item .content[data-v-7bc8046a]{padding:%?30?%;border-right:1px dashed #ddd;position:relative}.coupon-list .item .content .left[data-v-7bc8046a]{width:%?120?%;font-size:%?40?%;font-weight:700;color:#e74c3c}.coupon-list .item .content .left .small[data-v-7bc8046a]{font-size:%?15?%}.coupon-list .item .content .right[data-v-7bc8046a]{max-width:%?330?%;width:%?330?%}.coupon-list .item .content .right .priorityn[data-v-7bc8046a]{margin:0 %?5?%}.coupon-list .item .content[data-v-7bc8046a]::before{content:"";display:block;width:%?30?%;height:%?30?%;position:absolute;right:%?-15?%;top:%?-15?%;background-color:#f4f6f8;border-radius:%?100?%}.coupon-list .item .content[data-v-7bc8046a]::after{content:"";display:block;width:%?30?%;height:%?30?%;position:absolute;right:%?-15?%;bottom:%?-15?%;background-color:#f4f6f8;border-radius:%?100?%}.coupon-list .item .right-btn[data-v-7bc8046a]{min-width:%?185?%}',""]),t.exports=o},fd3d:function(t,o,e){"use strict";e.d(o,"b",(function(){return a})),e.d(o,"c",(function(){return s})),e.d(o,"a",(function(){return i}));var i={faNavbar:e("a678").default,uTabs:e("db03").default,uButton:e("3051").default,uLoadmore:e("b495").default,uBackTop:e("1891").default,faTabbar:e("4d88").default},a=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("v-uni-view",[i("fa-navbar",{attrs:{title:"优惠券列表","border-bottom":!1}}),i("v-uni-view",{},[i("u-tabs",{attrs:{list:t.list,activeColor:t.theme.bgColor,"bar-width":t.barwidth,"is-scroll":!1,current:t.current},on:{change:function(o){arguments[0]=o=t.$handleEvent(o),t.change.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"coupon-list"},t._l(t.couponList,(function(o,e){return i("v-uni-view",{key:e,staticClass:"item u-flex",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goPage("/pages/coupon/detail?id="+o.id)}}},[i("v-uni-view",{staticClass:"content u-flex-1 u-flex"},[i("v-uni-view",{staticClass:"left"},[i("v-uni-view",[t._v(t._s(o.result_data&&o.result_data.number)),i("v-uni-text",{staticClass:"small"},[t._v(t._s(1==o.result?"元":"折"))])],1)],1),i("v-uni-view",{staticClass:"right"},[i("v-uni-view",{staticClass:"u-font-30 u-m-b-5 u-line-1"},[t._v(t._s(o.name))]),i("v-uni-view",{staticClass:"u-m-b-5 u-tips-color"},[i("v-uni-view",{staticClass:"u-flex"},[t._v("订单满"),i("v-uni-text",{staticClass:"priorityn",style:{color:t.theme.bgColor}},[t._v(t._s(o.result_data&&o.result_data.money)+"元")]),t._v(t._s(1==o.result?"减":"打")),i("v-uni-text",{staticClass:"priorityn",style:{color:t.theme.bgColor}},[t._v(t._s(o.result_data&&o.result_data.number)+t._s(1==o.result?"元":"折"))])],1)],1),i("v-uni-view",{staticClass:"u-m-b-5 u-font-24 u-tips-color"},[t._v("每人限领"+t._s(o.allow_num)+"张")]),"fixation"==o.mode?i("v-uni-view",{staticClass:"u-m-b-10 u-tips-color u-font-24"},[t._v("领取后"+t._s(o.use_times)+"天内有效")]):i("v-uni-view",{staticClass:"u-m-b-10 u-line-1 u-tips-color u-font-24"},[t._v(t._s(t._f("formatreceive")(o.use_times)))])],1)],1),i("v-uni-view",{staticClass:"right-btn u-p-l-30 u-p-r-30"},[o.is_received?[i("u-button",{attrs:{size:"mini",disabled:!0,"hover-class":"none"}},[t._v("您已领取")])]:o.has_more?[i("u-button",{attrs:{size:"mini",disabled:!0,"hover-class":"none"}},[t._v("已被领完")])]:o.expired&&!o.is_received?[i("u-button",{attrs:{size:"mini",disabled:!0,"hover-class":"none"}},[t._v("已过期~")])]:o.online?[i("u-button",{attrs:{size:"mini",type:"primary","custom-style":{backgroundColor:t.theme.bgColor,color:t.theme.color},"hover-class":"none"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.give(o.id)}}},[t._v("立即领取")])]:[i("u-button",{attrs:{size:"mini","hover-class":"none"}},[t._v("未可领取")])]],2)],1)})),1)],1),t.couponList.length?t._e():i("v-uni-view",{staticClass:"u-flex u-row-center fa-empty top-15"},[i("v-uni-image",{attrs:{src:e("2636"),mode:""}}),i("v-uni-view",{staticClass:"u-tips-color"},[t._v("暂无可领取的优惠券~")])],1),t.couponList.length?i("v-uni-view",{staticClass:"u-p-b-30"},[i("u-loadmore",{attrs:{"bg-color":"#f4f6f8",status:t.has_more?t.status:"nomore"}})],1):t._e(),i("u-back-top",{attrs:{"scroll-top":t.scrollTop,"icon-style":{color:t.theme.bgColor},"custom-style":{backgroundColor:t.theme.lightColor}}}),i("fa-tabbar")],1)},s=[]}}]);